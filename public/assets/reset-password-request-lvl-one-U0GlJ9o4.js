import{q as y,r as t,j as e,t as a,T as x,x as S,L as v}from"./index-CguHGk5K.js";import{C as w}from"./config-global-C1bjA4IF.js";import{T as k}from"./TextField-BHvFdFV8.js";function C(){const m=y(),[r,p]=t.useState(""),[i,h]=t.useState({}),[l,d]=t.useState({}),f=t.useCallback(()=>{const s={};return r.trim()||(s.username="Username is required"),h(s),s},[r]),c=t.useCallback((s,n)=>{const o={...i};switch(s){case"username":n.trim()?delete o.username:o.username="Username is required";break}h(o)},[i]),u=t.useCallback(()=>{d({username:!0});const n=f();Object.keys(n).length>0||(console.log("Reset link requested for:",r),m.push("/reset-password-confirmation"))},[r,m,f]),g=t.useCallback(s=>{s.key==="Enter"&&u()},[u]),b=t.useCallback(s=>n=>{const o=n.target.value;switch(s){case"username":p(o);break}l[s]&&c(s,o)},[l,c]),j=t.useCallback(s=>()=>{d(n=>({...n,[s]:!0})),c(s,s==="username"?r:"")},[r,c]);return e.jsx(a,{sx:{position:"fixed",inset:0,display:"flex",alignItems:"flex-start",justifyContent:"center",bgcolor:"#f4f6f8",px:{xs:1,sm:0},pt:{xs:5,sm:4},pb:{xs:1,sm:4},height:"100vh",overflow:"hidden"},children:e.jsxs(a,{sx:{bgcolor:"#fff",p:{xs:3,sm:5},borderRadius:{xs:2,sm:3},boxShadow:"0 4px 16px rgba(0,0,0,0.08)",width:"100%",maxWidth:{xs:"calc(100vw - 32px)",sm:420},mx:"auto",mt:{xs:0,sm:2},maxHeight:{xs:"calc(100vh - 32px)",sm:"auto"},overflow:"hidden"},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:{xs:3,sm:4}},children:[e.jsx(a,{component:"img",src:"/assets/images/school-logo.png",alt:"School Logo",sx:{width:{xs:60,sm:75},height:"auto",mr:{xs:1,sm:1.5}}}),e.jsxs(a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"left",lineHeight:1.2},children:[e.jsx(x,{variant:"caption",sx:{color:"text.secondary",fontWeight:500,letterSpacing:.4,fontSize:{xs:10,sm:11}},children:"TaparSoft"}),e.jsx(x,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:"SchoolMANAGER"}),e.jsx(x,{variant:"subtitle2",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:9,sm:10},textAlign:"right",letterSpacing:.3,whiteSpace:"nowrap"},children:"School Management System"})]})]}),e.jsx(x,{variant:"h5",sx:{mb:{xs:2.5,sm:3.5},fontWeight:600,textAlign:"center",color:"text.primary",fontSize:{xs:"1rem",sm:"1.1rem"}},children:"Account reset password"}),e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:{xs:1.5,sm:2}},children:[e.jsx(k,{fullWidth:!0,label:l.username&&i.username?i.username:"Username",value:r,onChange:b("username"),onBlur:j("username"),onKeyPress:g,error:l.username&&!!i.username,sx:{"& .MuiOutlinedInput-root":{borderRadius:1.2,fontSize:{xs:"0.9rem",sm:"1rem"}},"& .MuiInputLabel-root":{color:l.username&&i.username?"error.main":"text.secondary"}}}),e.jsx(S,{fullWidth:!0,variant:"contained",size:"large",sx:{mt:{xs:1.2,sm:1.8},py:{xs:1.1,sm:1.4},fontWeight:600,borderRadius:1.8,textTransform:"none",boxShadow:"none",fontSize:{xs:"0.92rem",sm:"1rem"},"&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},onClick:u,children:"SEND LINK"}),e.jsx(a,{sx:{textAlign:"center",mt:{xs:1.3,sm:1.8}},children:e.jsx(v,{variant:"body2",color:"text.secondary",sx:{cursor:"pointer",fontWeight:500,fontSize:{xs:"0.82rem",sm:"0.875rem"},"&:hover":{color:"primary.main"}},onClick:()=>m.push("/login"),children:"Back to Login"})})]})]})})}function W(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:`Reset Password - ${w.appName}`}),e.jsx(C,{})]})}export{W as default};
