import{q as b,r,j as e,t as i,T as a,x as v,L as w}from"./index-CguHGk5K.js";import{C}from"./config-global-C1bjA4IF.js";import{T as k}from"./TextField-BHvFdFV8.js";function T(){const f=b(),[o,u]=r.useState(Array(6).fill("")),[c,l]=r.useState(""),[h,g]=r.useState(!1),x=r.useRef([]),p=r.useCallback(()=>o.join("").length!==6?(l("Please enter the complete 6-digit code"),!1):(l(""),!0),[o]),y=(s,t)=>{var d;if(!/^[0-9]?$/.test(s))return;const n=[...o];n[t]=s,u(n),c&&l(""),s&&t<5&&((d=x.current[t+1])==null||d.focus())},j=(s,t)=>{var n;s.key==="Backspace"&&!o[t]&&t>0&&((n=x.current[t-1])==null||n.focus())},m=r.useCallback(()=>{g(!0),p()&&(console.log("OTP Entered:",o.join("")),f.push("/"))},[o,f,p]),S=r.useCallback(s=>{s.key==="Enter"&&m()},[m]);return e.jsx(i,{sx:{position:"fixed",inset:0,display:"flex",alignItems:"flex-start",justifyContent:"center",bgcolor:"#f4f6f8",px:{xs:1,sm:0},pt:{xs:5,sm:4},pb:{xs:1,sm:4},height:"100vh",overflow:"hidden"},children:e.jsxs(i,{sx:{bgcolor:"#fff",p:{xs:3,sm:5},borderRadius:{xs:2,sm:3},boxShadow:"0 4px 16px rgba(0,0,0,0.08)",width:"100%",maxWidth:{xs:"calc(100vw - 32px)",sm:420},mx:"auto",mt:{xs:0,sm:2},maxHeight:{xs:"calc(100vh - 32px)",sm:"auto"},overflow:"hidden",textAlign:"center"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:{xs:3,sm:4}},children:[e.jsx(i,{component:"img",src:"/assets/images/school-logo.png",alt:"School Logo",sx:{width:{xs:60,sm:75},height:"auto",mr:{xs:1,sm:1.5}}}),e.jsxs(i,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"left",lineHeight:1.2},children:[e.jsx(a,{variant:"caption",sx:{color:"text.secondary",fontWeight:500,letterSpacing:.4,fontSize:{xs:10,sm:11}},children:"TaparSoft"}),e.jsx(a,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:"SchoolMANAGER"}),e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:9,sm:10},textAlign:"right",letterSpacing:.3,whiteSpace:"nowrap"},children:"School Management System"})]})]}),e.jsx(a,{variant:"h5",sx:{mb:{xs:2.5,sm:3.5},fontWeight:600,color:"text.primary",fontSize:{xs:"1.2rem",sm:"1.45rem"}},children:"Verify Your Account"}),e.jsx(i,{sx:{display:"flex",justifyContent:"center",gap:{xs:1,sm:1.5},mb:3},children:o.map((s,t)=>e.jsx(k,{inputRef:n=>x.current[t]=n,value:s,onChange:n=>y(n.target.value,t),onKeyDown:n=>j(n,t),onKeyPress:S,error:h&&!!c,variant:"outlined",InputProps:{sx:{p:0,textAlign:"center","& input":{textAlign:"center",fontSize:"20px",fontWeight:600,width:{xs:38,sm:44},height:50,padding:0}}},inputProps:{maxLength:1}},t))}),h&&c&&e.jsx(a,{variant:"caption",color:"error",sx:{display:"block",mb:2,fontSize:{xs:"0.75rem",sm:"0.8rem"},fontWeight:500},children:c}),e.jsx(v,{fullWidth:!0,variant:"contained",size:"large",sx:{mt:{xs:1.2,sm:1.8},py:{xs:1.1,sm:1.4},fontWeight:600,borderRadius:1.8,textTransform:"none",boxShadow:"none",fontSize:{xs:"0.92rem",sm:"1rem"},"&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},onClick:m,children:"Verify"}),e.jsx(i,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:{xs:1.3,sm:1.8},gap:3},children:e.jsx(w,{variant:"body2",color:"text.secondary",sx:{cursor:"pointer",fontWeight:500,fontSize:{xs:"0.82rem",sm:"0.875rem"},"&:hover":{color:"primary.main"}},onClick:()=>alert("OTP resent!"),children:"Resend code"})})]})})}function P(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:`OTP - ${C.appName}`}),e.jsx(T,{})]})}export{P as default};
